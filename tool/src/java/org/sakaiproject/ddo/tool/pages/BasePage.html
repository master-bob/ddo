<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd" >
 
<head>
	<title><wicket:message key="page.title" /></title>
	<link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="/library/js/jquery/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="/library/js/jquery/ui/1.10.3/jquery-ui.1.10.3.full.min.js"></script>
	<link href="/library/js/jquery/ui/1.10.3/css/ui-lightness/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" type="text/css" />
	<script type='text/javascript' src='/library/editor/ckeditor4/ckeditor.js'></script>
	<script type='text/javascript' src='/library/editor/ckeditor4/adapters/jquery.js'></script>
	<script type="text/javascript" src="/library/js/jquery/tablesorter/2.0.3/jquery.tablesorter-2.0.3.min.js"></script>
	<link href="/library/js/jquery/tablesorter/2.0.3/blue/style.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="css/ddo.css" />
	<script type="text/javascript">
		$(document).ready(function() {
            $("#notifyHelp").click(function(e){
                $("div.notifyTip").fadeIn(200).css("display","inline-block");
                e.stopPropagation();
            });
            $(document).click(function() {
                $("div.notifyTip").fadeOut(200);
            });
            $("div.notifyTip").click(function(e) {
                e.stopPropagation();
            });
			$("#instructorRequirements").focus(function(){
				$("div.reqTip").fadeIn(200).css("display","inline-block");
			});
			$("#instructorRequirements").blur(function(){
				$("div.reqTip").fadeOut(200);
			});
			$("#feedbackFocus").focus(function(){
				$("div.focusTip").fadeIn(200).css("display","inline-block");
			});
			$("#feedbackFocus").blur(function(){
				$("div.focusTip").fadeOut(200);
			});
			$("#closeLink").click(function(){
				$("#agree").fadeOut(200);
				$("#agreeMask").fadeOut(200);
			});
			$("#feedbackAssign").css("min-height",$("#feedbackSubmission").height());

            $(function() {
                if(localStorage) {
                    if (localStorage.getItem('agreed')) {
                        $("#agreeMask").hide();
                        $("#agree").hide();
                    }
                }
            });

            $("#closeLink").click(function() {
                localStorage.setItem("agreed", true);
                return true;
            });

			$("#courseTitle").change(function() {
                var selected = this.value;
				if(selected == "Other") {
                    $("#courseOther").show();
                    $("#courseOther").focus();
                    if (window.name != "") {
                        var frame = parent.document.getElementById(window.name);
                        if (frame) {
                            var newH = frame.height + 50;
                            $(frame).height(newH);
                        }
                    }
				} else {
                    $("#courseOther").hide();
                }
			});

            $("#instructors").change(function() {
                var selected = this.value;
                if(selected == "Other") {
                    $("#instructorNameOther").show();
                    $("#instructorEmailOther").show();
                    $("#instructorNameOther").focus();
                    //resize iframe
                    if (window.name != "") {
                        var frame = parent.document.getElementById(window.name);
                        if (frame) {
                            var newH = frame.height + 50;
                            $(frame).height(newH);
                        }
                    }
                } else {
                    $("#instructorNameOther").hide();
                    $("#instructorEmailOther").hide();
                }

                if(selected != "" && selected != "Other") {
                    $("#notifyInstructor").removeAttr("disabled");
                } else {
                    var re = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                    if(re.test($("#instructorEmailOther").val())) {
                        $("#notifyInstructor").removeAttr("disabled");
                    } else {
                        $("#notifyInstructor").attr("disabled", true);
                    }
                }
            });

            $("#instructorEmailOther").keyup(function() {
                var re = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                var email = this.value;
                if(re.test(email)) {
                    $("#notifyInstructor").removeAttr("disabled");
                } else {
                    $("#notifyInstructor").attr("disabled", true);
                }
            });
			$("#instructorEmailOther").change(function() {
				var re = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
				var email = this.value;
				if(re.test(email)) {
					$("#notifyInstructor").removeAttr("disabled");
				} else {
					$("#notifyInstructor").attr("disabled", true);
				}
			});
			$("#instructorEmailOther").blur(function() {
				var re = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
				var email = this.value;
				if(re.test(email)) {
					$("#notifyInstructor").removeAttr("disabled");
				} else {
					$("#notifyInstructor").attr("disabled", true);
				}
			});
			$("#replaceFile").click(function() {
				$("#newAttachment").toggle();
				$("#replaceReview").prop("checked", !$("#replaceReview").prop("checked"));
			});
			$("#replaceReview").click(function() {
				$("#newAttachment").toggle();
			});
			$('.confirmation').on('click', function () {
				return confirm('Are you sure you want to archive all reviewed submissions?');
			});
		});
	</script>
</head>     
<body>
	<div class="portletBody">

		<span wicket:id="menu">
			<ul class="navIntraTool actionToolbar">
				<li class="firstToolBarItem">
					<span>
						<a wicket:id="studentOverviewLink">
							<span wicket:id="studentOverviewLinkLabel">[studentOverviewLinkLabel]</span>
						</a>
					</span>
				</li>
				<li>
					<span>
						<a wicket:id="staffOverviewLink">
							<span wicket:id="staffOverviewLinkLabel">[staffOverviewLinkLabel]</span>
						</a>
					</span>
				</li>
				<li>
					<span>
						<a wicket:id="archivePageLink">
							<span wicket:id="archivePageLinkLabel">[archivePageLinkLabel</span>
						</a>
					</span>
				</li>
				<li>
					<span>
						<a wicket:id="adminPageLink">
							<span wicket:id="adminPageLinkLabel">[adminPageLinkLabel]</span>
						</a>
					</span>
				</li>
			</ul>
		</span>

		<span wicket:id="feedback">[feedback]</span>
		
		<wicket:child />
	
	</div>
</body>
</html>